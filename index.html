<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Billar</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #2c2c2c;
            font-family: Arial, sans-serif;
        }

        #table {
            position: relative;
            width: 800px;
            height: 400px;
            background-color: #006400;
            border: 15px solid #8B4513;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        }

        .ball, .hole {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }

        .ball {
            background-color: white;
        }

        .hole {
            background-color: black;
            width: 30px;
            height: 30px;
        }
    </style>
</head>
<body>
    <div id="table">
        <div class="ball" id="cue-ball" style="left: 390px; top: 190px;"></div>
        <div class="ball" style="background-color: red; left: 200px; top: 100px;"></div>
        <div class="ball" style="background-color: blue; left: 600px; top: 300px;"></div>
        <div class="hole" style="left: 0; top: 0;"></div>
        <div class="hole" style="left: 780px; top: 0;"></div>
        <div class="hole" style="left: 0; top: 380px;"></div>
        <div class="hole" style="left: 780px; top: 380px;"></div>
        <div class="hole" style="left: 390px; top: 0;"></div>
        <div class="hole" style="left: 390px; top: 380px;"></div>
    </div>
    <script>
        const table = document.getElementById('table');
        const cueBall = document.getElementById('cue-ball');
        const balls = document.querySelectorAll('.ball');
        const holes = document.querySelectorAll('.hole');
        let ballX = 390;
        let ballY = 190;
        let speedX = 0;
        let speedY = 0;
        const friction = 0.98;

        table.addEventListener('click', (e) => {
            const rect = table.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;

            speedX = (clickX - ballX) / 20;
            speedY = (clickY - ballY) / 20;
        });

        function checkCollisions() {
            balls.forEach((ball, index) => {
                let ballLeft = parseFloat(ball.style.left);
                let ballTop = parseFloat(ball.style.top);

                holes.forEach(hole => {
                    if (ballLeft < hole.offsetLeft + hole.clientWidth &&
                        ballLeft + ball.clientWidth > hole.offsetLeft &&
                        ballTop < hole.offsetTop + hole.clientHeight &&
                        ballTop + ball.clientHeight > hole.offsetTop) {
                        ball.style.display = 'none';
                        balls[index].remove();
                    }
                });
            });
        }

        function gameLoop() {
            ballX += speedX;
            ballY += speedY;

            speedX *= friction;
            speedY *= friction;

            if (ballX < 0 || ballX + cueBall.clientWidth > table.clientWidth) {
                speedX = -speedX;
            }
            if (ballY < 0 || ballY + cueBall.clientHeight > table.clientHeight) {
                speedY = -speedY;
            }

            cueBall.style.left = `${ballX}px`;
            cueBall.style.top = `${ballY}px`;

            checkCollisions();

            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
